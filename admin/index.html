<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kogo 관리자 - SaaS 대시보드</title>
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="./assets/css/admin.css">
    <link href="https://cdn.jsdelivr.net/gh/sun-typeface/SUIT/fonts/variable/woff2/SUIT-Variable.css" rel="stylesheet">
</head>
<body class="admin-body">

    <!-- 1depth: Global Navigation Bar -->
    <nav class="global-nav">
        <div class="global-nav-logo">Kogo</div>
        <div class="global-nav-menu">
            <a href="index.html" class="active">대시보드</a>
            <div class="dropdown">
                <a href="#">서비스 관리 ▾</a>
                <div class="dropdown-content">
                    <a href="touchad/index.html">터치애드</a>
                    <a href="#" style="color:#666;">코고케어 (예정)</a>
                    <a href="#" style="color:#666;">조합원 관리 (예정)</a>
                </div>
            </div>
            <a href="#" style="color:#666;">회원 관리</a>
            <a href="#" style="color:#666;">빌링</a>
            <a href="#" style="color:#666;">설정</a>
        </div>
        <div class="global-nav-user">관리자님</div>
    </nav>

    <main class="admin-container">
        <h1 style="font-size: 1.75rem; font-weight: 700; margin-bottom: 8px;">Kogo SaaS 관리자</h1>
        <p style="color: #666; margin-bottom: 32px;">한국글로벌헬스케어협동조합 통합 관리 플랫폼</p>

        <h2 style="font-size: 1.1rem; color: #666; margin-bottom: 16px;">📦 서비스 관리</h2>
        
        <div class="service-cards">
            <!-- 터치애드 -->
            <div class="service-card" onclick="location.href='touchad/index.html'">
                <div class="service-card-header">
                    <span class="service-card-icon">📱</span>
                    <span class="service-card-title">터치애드</span>
                </div>
                <div class="service-card-desc">
                    신용카드 및 교통카드 결제 데이터 기반 초개인화 타겟팅 광고 플랫폼. 의료 기관 대상 로컬 마케팅 솔루션.
                </div>
                <div class="service-card-stats">
                    <div class="service-stat">
                        <div class="service-stat-value" id="touchadInquiries">-</div>
                        <div class="service-stat-label">신규 문의</div>
                    </div>
                    <div class="service-stat">
                        <div class="service-stat-value" id="touchadOrders">-</div>
                        <div class="service-stat-label">진행 주문</div>
                    </div>
                    <div class="service-stat">
                        <div class="service-stat-value" id="touchadSessions">-</div>
                        <div class="service-stat-label">오늘 세션</div>
                    </div>
                </div>
            </div>

            <!-- 코고케어 -->
            <div class="service-card disabled">
                <div class="service-card-header">
                    <span class="service-card-icon">💊</span>
                    <span class="service-card-title">코고케어</span>
                    <span class="badge-coming-soon">예정</span>
                </div>
                <div class="service-card-desc">
                    조합원 건강 관리 및 복지 서비스. 건강검진 연계, 건강 상담 예약, 건강정보 제공.
                </div>
                <div class="service-card-stats">
                    <div class="service-stat">
                        <div class="service-stat-value">-</div>
                        <div class="service-stat-label">활성 사용자</div>
                    </div>
                    <div class="service-stat">
                        <div class="service-stat-value">-</div>
                        <div class="service-stat-label">이번 달 예약</div>
                    </div>
                </div>
            </div>

            <!-- 조합원 관리 -->
            <div class="service-card disabled">
                <div class="service-card-header">
                    <span class="service-card-icon">👥</span>
                    <span class="service-card-title">조합원 관리</span>
                    <span class="badge-coming-soon">예정</span>
                </div>
                <div class="service-card-desc">
                    조합원 가입/탈퇴 관리, 출자금 관리, 조합 운영 현황 대시보드.
                </div>
                <div class="service-card-stats">
                    <div class="service-stat">
                        <div class="service-stat-value">-</div>
                        <div class="service-stat-label">총 조합원</div>
                    </div>
                    <div class="service-stat">
                        <div class="service-stat-value">-</div>
                        <div class="service-stat-label">신규 가입</div>
                    </div>
                </div>
            </div>
        </div>

        <h2 style="font-size: 1.1rem; color: #666; margin-bottom: 16px; margin-top: 40px;">⚡ 바로가기</h2>
        <div style="display: flex; gap: 12px; flex-wrap: wrap;">
            <a href="touchad/inquiry_list.html" class="btn-secondary" style="padding: 10px 20px;">터치애드 문의 관리</a>
            <a href="touchad/order_list.html" class="btn-secondary" style="padding: 10px 20px;">터치애드 주문 관리</a>
            <a href="#" class="btn-secondary" style="padding: 10px 20px; opacity: 0.5; pointer-events: none;">회원 관리</a>
            <a href="#" class="btn-secondary" style="padding: 10px 20px; opacity: 0.5; pointer-events: none;">빌링 관리</a>
        </div>
    </main>

    <!-- Admin JS Modules -->
    <script src="./assets/js/admin-api.js"></script>
    <script src="./assets/js/admin.js"></script>
    
    <script>
    document.addEventListener('DOMContentLoaded', async () => {
        // 터치애드 통계 로드
        try {
            const stats = await AdminAPI.stats.get();
            document.getElementById('touchadInquiries').textContent = stats.inquiry?.new_count || 0;
            document.getElementById('touchadOrders').textContent = 
                (stats.order?.ordered_count || 0) + (stats.order?.running_count || 0);
            document.getElementById('touchadSessions').textContent = stats.today?.sessions_today || 0;
        } catch (err) {
            console.warn('Stats load failed:', err);
        }
    });
    </script>
</body>
</html>
